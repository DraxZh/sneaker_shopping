{"ast":null,"code":"var _jsxFileName = \"/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/Products.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ToolBox from './ToolBox';\nimport Product from './Product';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Products extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      products: [],\n      //搜素后products的值会被更改\n      sourceProducts: []\n    };\n\n    this.search = text => {\n      console.log(text);\n      let _products = [...this.state.sourceProducts]; //Filter New Array\n\n      _products = _products.filter(p => {\n        //拿到name调用match方法\n        const matchArray = p.name.match(new RegExp(text, 'gi'));\n        return !!matchArray;\n      }); //set state\n\n      this.setState({\n        products: _products\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:3003/products').then(response => {\n      this.setState({\n        products: response.data,\n        sourceProducts: response.data\n      });\n    });\n  } //search the products\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ToolBox, {\n        search: this.search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns is-multiline is-dektop\",\n          children: this.state.products.map(p => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column is-3\",\n              children: /*#__PURE__*/_jsxDEV(Product, {\n                product: p\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 41\n              }, this)\n            }, p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/draxzh/Documents/web project/sneaker_shopping/app/src/components/Products.js"],"names":["React","axios","ToolBox","Product","Products","Component","state","products","sourceProducts","search","text","console","log","_products","filter","p","matchArray","name","match","RegExp","setState","componentDidMount","get","then","response","data","render","map","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAsC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC1B;AACJC,MAAAA,QAAQ,EAAC,EADL;AAEJ;AACAC,MAAAA,cAAc,EAAC;AAHX,KAD0B;;AAAA,SAelCC,MAfkC,GAezBC,IAAI,IAAG;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,UAAIG,SAAS,GAAG,CAAC,GAAG,KAAKP,KAAL,CAAWE,cAAf,CAAhB,CAFY,CAGZ;;AACAK,MAAAA,SAAS,GAAGA,SAAS,CAACC,MAAV,CAAiBC,CAAC,IAAE;AAC5B;AACA,cAAMC,UAAU,GAAID,CAAC,CAACE,IAAF,CAAOC,KAAP,CAAa,IAAIC,MAAJ,CAAWT,IAAX,EAAiB,IAAjB,CAAb,CAApB;AACA,eAAO,CAAC,CAACM,UAAT;AACH,OAJW,CAAZ,CAJY,CASZ;;AACA,WAAKI,QAAL,CAAc;AACVb,QAAAA,QAAQ,EAAEM;AADA,OAAd;AAGH,KA5BiC;AAAA;;AAMlCQ,EAAAA,iBAAiB,GAAE;AACfpB,IAAAA,KAAK,CAACqB,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiDC,QAAQ,IAAE;AACvD,WAAKJ,QAAL,CAAc;AACVb,QAAAA,QAAQ,EAACiB,QAAQ,CAACC,IADR;AAEVjB,QAAAA,cAAc,EAAEgB,QAAQ,CAACC;AAFf,OAAd;AAIH,KALD;AAMH,GAbiC,CAclC;;;AAgBAC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,8BACI,QAAC,OAAD;AAAS,QAAA,MAAM,EAAE,KAAKjB;AAAtB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,gCAAf;AAAA,oBAEQ,KAAKH,KAAL,CAAWC,QAAX,CAAoBoB,GAApB,CAAwBZ,CAAC,IAAE;AACvB,gCACI;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACI,QAAC,OAAD;AAAS,gBAAA,OAAO,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA;AADJ,eAAkCA,CAAC,CAACa,EAApC;AAAA;AAAA;AAAA;AAAA,oBADJ;AAKH,WAND;AAFR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBH;;AAlDiC;;AAqDtC,eAAexB,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ToolBox from './ToolBox';\nimport Product from './Product';\n\nclass Products extends React.Component{\n    state = {\n        products:[],\n        //搜素后products的值会被更改\n        sourceProducts:[]\n    };\n    componentDidMount(){\n        axios.get('http://localhost:3003/products').then(response=>{\n            this.setState({\n                products:response.data,\n                sourceProducts: response.data\n            });\n        });\n    }\n    //search the products\n    search = text =>{\n        console.log(text)\n        let _products = [...this.state.sourceProducts]\n        //Filter New Array\n        _products = _products.filter(p=>{\n            //拿到name调用match方法\n            const matchArray =  p.name.match(new RegExp(text, 'gi'));\n            return !!matchArray;\n        })\n        //set state\n        this.setState({\n            products: _products\n        })\n    }\n    \n    render(){\n        return(\n            <div>\n                <ToolBox search={this.search}/>\n                <div className=\"products\">\n                    <div className=\"columns is-multiline is-dektop\">\n                        {\n                            this.state.products.map(p=>{\n                                return(\n                                    <div className=\"column is-3\" key={p.id}>\n                                        <Product product={p}/>\n                                    </div>\n                                );\n                            }) \n                        }\n                    </div>\n                    \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Products;"]},"metadata":{},"sourceType":"module"}